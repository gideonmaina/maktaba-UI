---
import fetchApi from '../../lib/strapi';
import type Language from '../../interfaces/language'
import {Debug} from 'astro/components'


// const folder=fs.open('w+','test.txt')

  const languages= await fetchApi<Language[]>({
    endpoint: 'languages',
    wrappedByKey: 'data',
  });


---
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Languages</title>
  </head>

  <body>
    <main>
      <!-- <Debug {routes}/> -->
      
      <div class="content">
        <h1> Browse through the list of available languages</h1>
          <ul>
            <li>
            {
              languages.map((language) => (
                <a href={`/languages/${language.attributes.slug}/`}>
                  {language.attributes.Language}
                </a>
              ))
            }
            <li/>
          </ul>
      </div>
    </main>
  </body>
</html>

<style>
    main{
        display:flex;
        justify-content: center;
        align-content: center;
    }

    .content{
        box-sizing: border-box;
        padding:4rem 8rem;
        border-left:1px solid sandybrown;
        border-right:1px solid sandybrown;
        background-color: rgba(4, 130, 126, 0.1);
        height:100vh;
        width:40vw;
    }

    h1{
        font-size:large;
    }
    
    ul{
        list-style: none;
        padding:0
    }
    ul li{
        display:flex;
        flex-direction: column;
        line-height: 1.5rem;
       
    }

    a{
     color:teal;
     text-decoration: none;
    
    }
    a::after{
        content:'Â»' ;
       
    }
    a:hover::after{
        padding-left: 2px;
    }
</style>