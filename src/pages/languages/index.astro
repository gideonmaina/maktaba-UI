---
import fetchApi from '../../lib/strapi';
import type Language from '../../interfaces/language'
import {Debug} from 'astro/components'

import Main from '../../layouts/Main.astro';
// const folder=fs.open('w+','test.txt')

  const languages= await fetchApi<Language[]>({
    endpoint: 'languages',
    wrappedByKey: 'data',
  });


---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Languages</title>
  </head>

  <body>
    <main>
      <!-- <Debug {routes}/> -->
      
      
        <Main>
          <h1> Browse through the list of available languages</h1>
            <ul>
              <li>
              {
                languages.map((language) => (
                  <a href={`/languages/${language.attributes.slug}/`}>
                    {language.attributes.Language}
                  </a>
                ))
              }
              <li/>
            </ul>
        </Main>
    </main>
  </body>
</html>

<style>
  
    h1{
        font-size:large;
    }
    
    
</style>